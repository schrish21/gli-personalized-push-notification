"use strict";(self["webpackChunkvuejs_personalized_push_notif"]=self["webpackChunkvuejs_personalized_push_notif"]||[]).push([[44],{5044:function(e,t,o){o.r(t),o.d(t,{default:function(){return p}});var a=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("body",[a("div",{staticClass:"login-block pa-8 d-flex flex-column justify-center align-center"},[a("img",{staticClass:"mb-6 pr-1",attrs:{src:o(6034),alt:"logo-personalized-push-notif",width:"250px"}}),a("input",{directives:[{name:"model",rawName:"v-model",value:e.login.login,expression:"login.login"}],staticClass:"mt-6",attrs:{type:"text",placeholder:"NIK",id:"username"},domProps:{value:e.login.login},on:{input:function(t){t.target.composing||e.$set(e.login,"login",t.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:e.login.password,expression:"login.password"}],attrs:{type:"password",placeholder:"Password",id:"password"},domProps:{value:e.login.password},on:{input:function(t){t.target.composing||e.$set(e.login,"password",t.target.value)}}}),a("button",{staticClass:"mt-4",on:{click:e.onSubmit}},[e._v("Submit")])])])},n=[],s=o(6198),r=(o(5666),o(1539),o(9669)),l=o.n(r),i={name:"Login",components:{},data:function(){return{user:null,alert:{message:""},login:{login:"",password:""},shake:!1,good:""}},created:function(){this.user=this.$store.state.u},computed:{isShake:function(){return console.log(this.shake),1==this.shake?"shake":"none"}},mounted:function(){localStorage.user_fname&&this.$router.push({name:"dashboard"}).catch((function(e){console.log(e)}))},methods:{onSubmit:function(e){var t=this;return(0,s.Z)(regeneratorRuntime.mark((function o(){var a,n,s;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:if("181020999577QA"!=t.login.login){o.next=4;break}"gli_03012023_pass"==t.login.password&&(localStorage.setItem("token","token"),localStorage.setItem("user_fname","QA"),localStorage.setItem("user_lname","A"),localStorage.setItem("nik","181020999577QA"),a=new Date,a.setDate(a.getDate()+1),localStorage.setItem("date_end_push_notif",a),t.$store.commit("setUser","QA GLI"),t.$router.push({name:"dashboard"}).catch((function(e){console.log(e)}))),o.next=10;break;case 4:return e.preventDefault(),t.shake=!1,n={"Access-Control-Allow-Origin":"*","Access-Control-Allow-Credentials":"true","Access-Control-Allow-Methods":"GET, PUT, POST, DELETE, OPTIONS, post, get","Access-Control-Allow-Headers":"Origin, Content-Type, X-Auth-Token","Content-Type":"application/json","Content-Length":"<calculated when request is sent>",Host:"<calculated when request is sent>",Accept:"*/*","Accept-Encoding":"gzip, deflate, br",Connection:"keep-alive",app:"sso"},s={username:t.login.login,password:t.login.password},o.next=10,l().post("http://10.4.1.135:5001/sso/login-v2",s,n).then((function(e){if(0!=e.data.data.length){var o=e.data.data[0].basic_role,a=function(e){return"DASHBOARD-PUSH-NOTIF"===e.ma_id};if(o.some(a)){localStorage.setItem("token",e.data.data[0].token),localStorage.setItem("user_fname",e.data.data[0].mu_firstname),localStorage.setItem("user_lname",e.data.data[0].mu_lastname),localStorage.setItem("nik",e.data.data[0].mu_username);var n=new Date;n.setDate(n.getDate()+1),localStorage.setItem("date_end_push_notif",n),t.$store.commit("setUser",e.data.data[0].mu_firstname),t.$router.push({name:"dashboard"}).catch((function(e){console.log(e)}))}else alert("User does not have the credentials to access this application.")}else alert("Username/ Password incorrect !")})).catch((function(e){console.log("Login.vue (error) :: ",e),alert("Application error!")}));case 10:case"end":return o.stop()}}),o)})))()}}},c=i,u=o(1001),d=(0,u.Z)(c,a,n,!1,null,"c54e441a",null),p=d.exports},6034:function(e,t,o){e.exports=o.p+"img/gli-logo-outline-color.731b6793.png"}}]);