"use strict";(self["webpackChunkvuejs_personalized_push_notif"]=self["webpackChunkvuejs_personalized_push_notif"]||[]).push([[887],{381:function(t,a,e){e.r(a),e.d(a,{default:function(){return V}});var i=function(){var t=this,a=this,e=a.$createElement,i=a._self._c||e;return i("div",[i("div",[i("v-dialog",{attrs:{persistent:"",width:"300"},model:{value:a.loadingDialog,callback:function(t){a.loadingDialog=t},expression:"loadingDialog"}},[i("v-card",{attrs:{color:"primary",dark:""}},[i("v-card-text",{staticClass:"pa-2 pl-4 pr-4 pb-4"},[a._v(" Loading, please wait "),i("v-progress-linear",{staticClass:"mb-0",attrs:{indeterminate:"",color:"white"}})],1)],1)],1)],1),i("v-dialog",{attrs:{"max-width":"290"},model:{value:a.cancelDialog,callback:function(t){a.cancelDialog=t},expression:"cancelDialog"}},[i("v-card",[i("v-card-title",{staticClass:"text-h5"},[a._v(" Cancel ")]),i("v-card-text",[a._v(" Are you sure you want to leave this page? ")]),i("v-card-actions",[i("v-spacer"),i("v-btn",{attrs:{color:"grey darken-1",text:""},on:{click:function(t){a.cancelDialog=!1}}},[a._v(" NO ")]),i("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:function(){a.cancelDialog=!1,a.onCancel()}}},[a._v(" YES ")])],1)],1)],1),i("v-card",{attrs:{flat:"",tile:"",width:"100%"}},[i("div",{staticClass:"d-flex flex-column justify-start mb-6 mx-4 px-8 py-2"},[i("div",{staticClass:"d-flex justify-start"},[i("p",{staticClass:"overline grey--text lighten-3 ma-0 pa-0 text-caption",staticStyle:{"font-size":"10px !important"}},[a._v(" CAMPAIGNS > ")]),i("p",{staticClass:"overline black--text ma-0 pa-0 text-caption",staticStyle:{"font-size":"10px !important"}},[a._v(" Â  PUSH NOTIFICATIONS ")])]),a.viewMode?i("h3",{staticClass:"primary--text lighten-3 font-weight-medium ma-0 pa-0"},[a._v(" View Campaign ")]):i("h3",{staticClass:"primary--text lighten-3 font-weight-medium ma-0 pa-0"},[a._v(" Edit Campaign ")])])]),i("div",{staticClass:"mx-5",staticStyle:{display:"flex","align-items":"start","justify-content":"center"}},[i("v-card",{staticClass:"px-1 text-center",attrs:{flat:"",tile:"",width:"100%"}},[i("div",{staticClass:"my-4 d-flex flex-row",staticStyle:{width:"100%",display:"flex","align-items":"start","justify-content":"center"}},[i("v-col",{attrs:{cols:"10",md:"10"}},[a.flag.campaign?i("v-card",{staticClass:"ma-0 pa-0",attrs:{flat:"",width:"100%"}},[i("v-card-text",{attrs:{width:"100%"}},[i("v-container",[i("v-row",[i("v-col",{attrs:{cols:"6"}},[i("v-row",{staticClass:"pr-4"},[i("v-col",{staticClass:"ma-0 pa-0",attrs:{cols:"12"}},[i("v-row",{staticClass:"align-start"},[i("v-col",{staticClass:"text-start ma-0 pa-auto",attrs:{cols:"3"}},[i("h4",{staticClass:"black--text pt-2 font-weight-regular"},[a._v(" No. ID ")])]),i("v-col",{attrs:{cols:"9"}},[i("v-text-field",{staticClass:"lighten-2 font-italic",attrs:{dense:"",readonly:!0,rules:a.textInputRules,outlined:"",filled:""},model:{value:a.NoId,callback:function(t){a.NoId=t},expression:"NoId"}})],1)],1)],1),i("v-col",{staticClass:"ma-0 pa-0",attrs:{cols:"12"}},[i("v-row",{staticClass:"align-start"},[i("v-col",{staticClass:"text-start ma-0 pa-auto",attrs:{cols:"3"}},[i("h4",{staticClass:"black--text pt-2 font-weight-regular"},[a._v(" User NIK ")])]),i("v-col",{attrs:{cols:"9"}},[i("v-text-field",{staticClass:"lighten-2 font-italic",attrs:{dense:"",readonly:!0,rules:a.textInputRules,outlined:"",filled:""},model:{value:a.campaign_form.user_id,callback:function(t){a.$set(a.campaign_form,"user_id",t)},expression:"campaign_form.user_id"}})],1)],1)],1),i("v-col",{staticClass:"ma-0 pa-0",attrs:{cols:"12"}},[i("v-row",{staticClass:"align-start"},[i("v-col",{staticClass:"text-start ma-0 pa-auto",attrs:{cols:"3"}},[i("h4",{staticClass:"black--text pt-2 font-weight-regular"},[a._v(" Campaign Name"),i("strong",{staticClass:"red--text"},[a._v("*")])])]),i("v-col",{attrs:{cols:"9"}},[i("v-text-field",{staticClass:"lighten-2",attrs:{readonly:a.viewMode,filled:a.viewMode,dense:"",rules:a.campaignNameRules,counter:32,required:"",outlined:"","max-len":""},on:{keyup:a.uppercase},model:{value:a.campaign_form.campaign_name,callback:function(t){a.$set(a.campaign_form,"campaign_name",t)},expression:"campaign_form.campaign_name"}})],1)],1)],1),i("v-col",{staticClass:"ma-0 pa-0",attrs:{cols:"12"}},[i("v-row",{staticClass:"align-start"},[i("v-col",{staticClass:"text-start ma-0 pa-auto",attrs:{cols:"3"}},[i("h4",{staticClass:"black--text pt-2 font-weight-regular"},[a._v(" Campaign Description ")])]),i("v-col",{attrs:{cols:"9"}},[i("v-text-field",{staticClass:"lighten-2",attrs:{readonly:a.viewMode,filled:a.viewMode,dense:"",outlined:"","max-len":""},on:{keyup:a.uppercase_desc},model:{value:a.campaign_form.campaign_desc,callback:function(t){a.$set(a.campaign_form,"campaign_desc",t)},expression:"campaign_form.campaign_desc"}})],1)],1)],1)],1)],1),i("v-col",{attrs:{cols:"6"}},[i("v-row",{staticClass:"pl-4"},[i("v-col",{staticClass:"ma-0 pa-0",attrs:{cols:"12"}},[i("v-row",{staticClass:"align-start"},[i("v-col",{staticClass:"text-start ma-0 pa-auto",attrs:{cols:"3"}},[i("h4",{staticClass:"black--text pt-2 font-weight-regular"},[a._v(" Start Date Sales"),i("strong",{staticClass:"red--text"},[a._v("*")])])]),i("v-col",{attrs:{cols:"9"}},[i("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:a._u([{key:"activator",fn:function(t){var e=t.on,n=t.attrs;return[i("v-text-field",a._g(a._b({attrs:{filled:a.viewMode,dense:"",readonly:"",outlined:"","prepend-inner-icon":"mdi-calendar"},model:{value:a.campaign_form.start_date_sales,callback:function(t){a.$set(a.campaign_form,"start_date_sales",t)},expression:"campaign_form.start_date_sales"}},"v-text-field",n,!1),e))]}}],null,!1,1254107247),model:{value:a.menu_start_date_sales,callback:function(t){a.menu_start_date_sales=t},expression:"menu_start_date_sales"}},[a.viewMode?a._e():i("v-date-picker",{attrs:{max:a.dateNow},on:{input:function(t){a.menu_start_date_sales=!1}},model:{value:a.campaign_form.start_date_sales,callback:function(t){a.$set(a.campaign_form,"start_date_sales",t)},expression:"campaign_form.start_date_sales"}})],1)],1)],1)],1),i("v-col",{staticClass:"ma-0 pa-0",attrs:{cols:"12"}},[i("v-row",{staticClass:"align-start"},[i("v-col",{staticClass:"text-start ma-0 pa-auto",attrs:{cols:"3"}},[i("h4",{staticClass:"black--text pt-2 font-weight-regular"},[a._v(" End Date Sales"),i("strong",{staticClass:"red--text"},[a._v("*")])])]),i("v-col",{attrs:{cols:"9"}},[i("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:a._u([{key:"activator",fn:function(t){var e=t.on,n=t.attrs;return[i("v-text-field",a._g(a._b({attrs:{filled:a.viewMode,dense:"",readonly:"",outlined:"","prepend-inner-icon":"mdi-calendar"},model:{value:a.campaign_form.end_date_sales,callback:function(t){a.$set(a.campaign_form,"end_date_sales",t)},expression:"campaign_form.end_date_sales"}},"v-text-field",n,!1),e))]}}],null,!1,4050979456),model:{value:a.menu_end_date_sales,callback:function(t){a.menu_end_date_sales=t},expression:"menu_end_date_sales"}},[a.viewMode?a._e():i("v-date-picker",{attrs:{min:a.campaign_form.start_date_sales,max:a.dateNow},on:{input:function(t){a.menu_end_date_sales=!1}},model:{value:a.campaign_form.end_date_sales,callback:function(t){a.$set(a.campaign_form,"end_date_sales",t)},expression:"campaign_form.end_date_sales"}})],1)],1)],1)],1),i("v-col",{staticClass:"ma-0 pa-0",attrs:{cols:"12"}},[i("v-row",{staticClass:"align-start"},[i("v-col",{staticClass:"text-start ma-0 pa-auto",attrs:{cols:"3"}},[i("h4",{staticClass:"black--text pt-2 font-weight-regular"},[a._v(" Campaign Delivery"),i("strong",{staticClass:"red--text"},[a._v("*")])])]),i("v-col",{attrs:{cols:"9"}},[i("v-select",{attrs:{readonly:a.viewMode,filled:a.viewMode,dense:"",rules:a.textInputRules,items:["later"],required:"",outlined:""},model:{value:a.campaign_form.campaign_delivery,callback:function(t){a.$set(a.campaign_form,"campaign_delivery",t)},expression:"campaign_form.campaign_delivery"}})],1)],1)],1),"later"==a.campaign_form.campaign_delivery?i("v-col",{staticClass:"ma-0 pa-0",attrs:{cols:"12"}},[i("v-row",{staticClass:"align-start"},[i("v-col",{staticClass:"text-start ma-0 pa-auto",attrs:{cols:"3"}},[i("h4",{staticClass:"black--text pt-2 font-weight-regular"},[a._v(" Start Date Push"),i("strong",{staticClass:"red--text"},[a._v("*")])])]),i("v-col",{attrs:{cols:"9"}},[i("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:a._u([{key:"activator",fn:function(t){var e=t.on,n=t.attrs;return[i("v-text-field",a._g(a._b({attrs:{filled:a.viewMode,dense:"",readonly:"",outlined:"","prepend-inner-icon":"mdi-calendar"},model:{value:a.campaign_form.start_date_push,callback:function(t){a.$set(a.campaign_form,"start_date_push",t)},expression:"campaign_form.start_date_push"}},"v-text-field",n,!1),e))]}}],null,!1,1762682969),model:{value:a.menu_start_date_push,callback:function(t){a.menu_start_date_push=t},expression:"menu_start_date_push"}},[a.viewMode?a._e():i("v-date-picker",{attrs:{min:a.dateNowPlusTwo},on:{input:function(t){a.menu_start_date_push=!1}},model:{value:a.campaign_form.start_date_push,callback:function(t){a.$set(a.campaign_form,"start_date_push",t)},expression:"campaign_form.start_date_push"}})],1)],1)],1)],1):a._e(),"later"==a.campaign_form.campaign_delivery?i("v-col",{staticClass:"ma-0 pa-0",attrs:{cols:"12"}},[i("v-row",{staticClass:"align-start"},[i("v-col",{staticClass:"text-start ma-0 pa-auto",attrs:{cols:"3"}},[i("h4",{staticClass:"black--text pt-2 font-weight-regular"},[a._v(" Time Push"),i("strong",{staticClass:"red--text"},[a._v("*")])])]),i("v-col",{attrs:{cols:"9"}},[i("v-menu",{attrs:{readonly:a.viewMode,filled:a.viewMode,"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:a._u([{key:"activator",fn:function(t){var e=t.on,n=t.attrs;return[i("v-text-field",a._g(a._b({attrs:{filled:a.viewMode,dense:"",readonly:"",outlined:"","prepend-inner-icon":"mdi-clock-outline"},model:{value:a.campaign_form.time_push,callback:function(t){a.$set(a.campaign_form,"time_push",t)},expression:"campaign_form.time_push"}},"v-text-field",n,!1),e))]}}],null,!1,3315043600),model:{value:a.menu_time_push,callback:function(t){a.menu_time_push=t},expression:"menu_time_push"}},[a.viewMode?a._e():i("v-time-picker",{attrs:{"ampm-in-title":"",format:"24hr",landscape:"",scrollable:""},on:{input:function(t){a.menu_time_push=!1}},model:{value:a.campaign_form.time_push,callback:function(t){a.$set(a.campaign_form,"time_push",t)},expression:"campaign_form.time_push"}})],1)],1)],1)],1):a._e()],1)],1)],1)],1),i("small",{staticClass:"mt-2 font-italic d-flex flex-row"},[a._v("*Indicates required field")])],1)],1):a._e()],1),i("v-col",{attrs:{cols:"2",md:"2"}},[i("v-card",{staticClass:"ma-0 pa-0",attrs:{flat:"",width:"100%"}},[i("v-card",{staticClass:"pa-4",attrs:{elevation:"2",outlined:""}},[a.viewMode?a._e():i("div",{staticStyle:{display:"flex","justify-content":"center"},on:{click:function(t){return a.btnFlag("campaign")}}},[i("v-btn",{staticClass:"white--text",staticStyle:{"font-size":"12px","background-color":"#039aab !important",color:"#fff !important"},attrs:{height:"45px",block:"",rounded:"",color:a.getBtnColor("campaign"),disabled:""}},[a._v(" Input Campaign")])],1),a.viewMode?a._e():i("v-spacer",{staticClass:"my-8"}),a.viewMode?a._e():i("v-btn",{staticClass:"ma-auto my-2 white--text",attrs:{color:"green",width:"100%"},on:{click:function(t){return a.onSubmit()}}},[a._v(" Submit ")]),a.viewMode?i("v-btn",{staticClass:"ma-auto white--text",attrs:{color:"green",width:"100%"},on:{click:function(t){return a.onReturn()}}},[a._v(" Return ")]):i("v-btn",{staticClass:"ma-auto white--text",attrs:{color:"red lighten-2",width:"100%"},on:{click:function(t){return a.onCancelConfirm()}}},[a._v(" Cancel ")])],1)],1)],1)],1)])],1),a.viewMode?a._e():i("v-dialog",{attrs:{"max-width":"330px"},model:{value:a.dialog.delete_notif,callback:function(t){a.$set(a.dialog,"delete_notif",t)},expression:"dialog.delete_notif"}},[i("v-card",{staticClass:"py-0",attrs:{elevation:"3",outlined:""}},[i("v-card-title",{staticClass:"text-h5"},[a._v(" Delete ")]),i("v-card-text",[a._v(" Are you sure you want to delete Notification? ")]),i("v-card-actions",[i("v-spacer"),i("v-btn",{attrs:{color:"grey darken-1",text:""},on:{click:function(t){a.dialog.delete_notif=!a.dialog.delete_notif}}},[a._v(" NO ")]),i("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:function(t){return a.deleteNotif()}}},[a._v(" YES ")])],1)],1)],1),i("div",{staticClass:"mx-5 my-5",staticStyle:{display:"flex","align-items":"start","justify-content":"center"}},[i("v-card",{staticClass:"px-4",attrs:{flat:"",tile:"",width:"100%"}},[i("div",{staticClass:"d-flex flex-row justify-start pt-2 mt-2 mb-1"},[i("v-col",{attrs:{col:"10",md:"10"}},[i("h3",{staticClass:"primary--text lighten-3 font-weight-medium ma-0 pa-0"},[a._v(" Notifications ")])]),i("v-col",{attrs:{col:"2",md:"2"}},[i("v-dialog",{attrs:{"max-width":"1200px"},scopedSlots:a._u([a.viewMode?null:{key:"activator",fn:function(t){var e=t.on,n=t.attrs;return[i("div",{staticClass:"jutisy-end text-right"},[i("v-btn",a._g(a._b({staticClass:"white--text",staticStyle:{"font-size":"12px"},attrs:{width:"150px",height:"35px",color:"#1976D2"}},"v-btn",n,!1),e),[i("v-icon",{attrs:{small:""}},[a._v("mdi-plus")]),a._v("Â  Add Notif")],1)],1)]}}],null,!0),model:{value:a.dialog.input_notif,callback:function(t){a.$set(a.dialog,"input_notif",t)},expression:"dialog.input_notif"}},[i("v-card",{staticClass:"pa-4",attrs:{elevation:"3",outlined:""}},[i("div",{staticStyle:{position:"absolute",top:"0",right:"0","z-index":"99"}},[i("v-btn",{staticClass:"white--text px-3",staticStyle:{"font-size":"12px","border-radius":"50px"},attrs:{block:"",color:"red"},on:{click:function(){a.resetNotifForm(),a.flag_view_notif=!1,a.dialog.input_notif=!1}}},[i("v-icon",{staticClass:"ma-0 pa-0",attrs:{small:""}},[a._v("mdi-close")])],1)],1),i("v-stepper",{attrs:{vertical:""},model:{value:a.steppers,callback:function(t){a.steppers=t},expression:"steppers"}},[i("v-stepper-step",{attrs:{complete:a.steppers>1,step:"1"}},[a._v(" Input notification details "),i("small",[a._v("* Indicates required field")])]),i("v-stepper-content",{attrs:{step:"1"}},[i("div",{staticClass:"mb-6",staticStyle:{"max-width":"650px !important"}},[i("v-form",{staticClass:"pa-0 pt-4",attrs:{"lazy-validation":""}},[i("v-col",{staticClass:"ma-0 pa-0",attrs:{cols:"12"}},[i("v-row",{staticClass:"align-start"},[i("v-col",{staticClass:"text-start ma-0 pa-auto",attrs:{cols:"4"}},[i("h4",{staticClass:"black--text pt-2 font-weight-regular"},[a._v(" Identifier"),i("strong",{staticClass:"red--text"},[a._v("*")])])]),i("v-col",{attrs:{cols:"8"}},[i("v-autocomplete",{attrs:{rules:a.textInputRules,items:["Brand","Category","PLU"],required:"",outlined:"","auto-select-first":"",clearable:"",dense:"",filled:a.flag_view_notif,readonly:a.flag_view_notif,disabled:a.flag_view_notif},model:{value:a.input_notif.tipe_identifier,callback:function(t){a.$set(a.input_notif,"tipe_identifier",t)},expression:"input_notif.tipe_identifier"}})],1)],1)],1),i("v-col",{staticClass:"ma-0 pa-0",attrs:{cols:"12"}},[i("v-row",{staticClass:"align-start"},[i("v-col",{staticClass:"text-start ma-0 pa-auto",attrs:{cols:"4"}},[i("h4",{staticClass:"black--text pt-2 font-weight-regular"},[a._v(" Notification Title"),i("strong",{staticClass:"red--text"},[a._v("*")])])]),i("v-col",{attrs:{cols:"8"}},[i("v-text-field",{staticClass:"lighten-2",attrs:{rules:a.titleNotifRules,required:"",outlined:"",counter:32,dense:"",filled:a.flag_view_notif,readonly:a.flag_view_notif},model:{value:a.input_notif.title_notif,callback:function(t){a.$set(a.input_notif,"title_notif",t)},expression:"input_notif.title_notif"}})],1)],1)],1),i("v-col",{staticClass:"ma-0 pa-0",attrs:{cols:"12"}},[i("v-row",{staticClass:"align-start"},[i("v-col",{staticClass:"text-start ma-0 pa-auto",attrs:{cols:"4"}},[i("h4",{staticClass:"black--text pt-2 font-weight-regular"},[a._v(" Notification Subtitle"),i("strong",{staticClass:"red--text"},[a._v("*")])])]),i("v-col",{attrs:{cols:"8"}},[i("v-text-field",{staticClass:"lighten-2",attrs:{rules:a.subtitleNotifRules,required:"",outlined:"",counter:64,dense:"",filled:a.flag_view_notif,readonly:a.flag_view_notif},model:{value:a.input_notif.subtitle_notif,callback:function(t){a.$set(a.input_notif,"subtitle_notif",t)},expression:"input_notif.subtitle_notif"}})],1)],1)],1),i("v-col",{staticClass:"ma-0 pa-0",attrs:{cols:"12"}},[i("v-row",{staticClass:"align-start"},[i("v-col",{staticClass:"text-start ma-0 pa-auto",attrs:{cols:"4"}},[i("h4",{staticClass:"black--text pt-2 font-weight-regular"},[a._v(" Image URL ")])]),i("v-col",{attrs:{cols:"8"}},[i("v-text-field",{staticClass:"lighten-2 mb-2",attrs:{hint:"\nEx: https://static-content.alfagift.id/static/logo-alfagift.png","persistent-hint":"",outlined:"",dense:"",filled:a.flag_view_notif,readonly:a.flag_view_notif},model:{value:a.input_notif.image_url,callback:function(t){a.$set(a.input_notif,"image_url",t)},expression:"input_notif.image_url"}})],1)],1)],1),i("v-col",{staticClass:"ma-0 pa-0",attrs:{cols:"12"}},[i("v-row",{staticClass:"align-start"},[i("v-col",{staticClass:"text-start ma-0 pa-auto",attrs:{cols:"4"}},[i("h4",{staticClass:"black--text pt-2 font-weight-regular"},[a._v(" Deeplink"),i("strong",{staticClass:"red--text"},[a._v("*")])])]),i("v-col",{attrs:{cols:"8"}},[i("v-text-field",{staticClass:"lighten-2",attrs:{rules:a.textInputRules,required:"",outlined:"",dense:"",filled:a.flag_view_notif,readonly:a.flag_view_notif,hint:"Ex: alfagift://","persistent-hint":""},model:{value:a.input_notif.deeplink,callback:function(t){a.$set(a.input_notif,"deeplink",t)},expression:"input_notif.deeplink"}})],1)],1)],1),i("v-col",{staticClass:"ma-0 pa-0",attrs:{cols:"12"}},[i("v-row",{staticClass:"align-start"},[i("v-col",{staticClass:"text-start ma-0 pa-auto",attrs:{cols:"4"}},[i("h4",{staticClass:"black--text pt-2 font-weight-regular"},[a._v(" Purchase Status"),i("strong",{staticClass:"red--text"},[a._v("*")])])]),i("v-col",{attrs:{cols:"8"}},[i("v-select",{attrs:{dense:"","item-text":"key","item-value":"value",items:[{key:"False",value:!1},{key:"True",value:!0}],required:"",filled:a.flag_view_notif,readonly:a.flag_view_notif,outlined:""},model:{value:a.input_notif.status_beli,callback:function(t){a.$set(a.input_notif,"status_beli",t)},expression:"input_notif.status_beli"}})],1)],1)],1),i("v-col",{staticClass:"ma-0 pa-0",attrs:{cols:"12"}},[i("v-row",{staticClass:"align-start"},[i("v-col",{staticClass:"text-start ma-0 pa-auto",attrs:{cols:"4"}},[i("h4",{staticClass:"black--text pt-2 font-weight-regular"},[a._v(" Promo Type"),i("strong",{staticClass:"red--text"},[a._v("*")])])]),i("v-col",{attrs:{cols:"8"}},[i("v-autocomplete",{attrs:{items:a.promo_type_data,"item-text":"ampt_name","item-value":"ampt_name",rules:a.textInputRules,outlined:"","auto-select-first":"",clearable:"",dense:"",filled:a.flag_view_notif,readonly:a.flag_view_notif,disabled:a.flag_view_notif},model:{value:a.input_notif.jenis_promo,callback:function(t){a.$set(a.input_notif,"jenis_promo",t)},expression:"input_notif.jenis_promo"}})],1)],1)],1)],1)],1),i("v-btn",{attrs:{color:"primary"},on:{click:function(t){a.steppers=2}}},[a._v(" Continue ")]),i("v-btn",{attrs:{text:""},on:{click:function(){a.resetNotifForm(),a.flag_view_notif=!1,a.dialog.input_notif=!1}}},[a._v(" Cancel ")])],1),i("v-stepper-step",{attrs:{complete:a.steppers>2,step:"2"}},[a._v(" Input "+a._s(a.input_notif.tipe_identifier)+" "),i("small",[a._v("* Indicates required field")])]),i("v-stepper-content",{attrs:{step:"2"}},["PLU"==a.input_notif.tipe_identifier?i("div",{staticClass:"mb-12"},[a.flag_view_notif?a._e():i("div",{staticClass:"ma-0 pa-0 d-flex flex-row"},[i("v-col",{staticClass:"ma-0 px-0",attrs:{cols:"2",sm:"2",md:"2"}},[i("v-dialog",{attrs:{"max-width":"400px"},scopedSlots:a._u([{key:"activator",fn:function(t){var e=t.on,n=t.attrs;return[i("div",{staticStyle:{display:"flex","justify-content":"center"}},[i("v-btn",a._g(a._b({staticClass:"white--text",staticStyle:{"font-size":"12px"},attrs:{height:"35px",block:"",color:"#1976D2"}},"v-btn",n,!1),e),[i("v-icon",{attrs:{small:""}},[a._v("mdi-plus")]),a._v("Â  Add PLU")],1)],1)]}}],null,!1,2633317557),model:{value:a.dialog.input,callback:function(t){a.$set(a.dialog,"input",t)},expression:"dialog.input"}},[i("v-card",{staticClass:"pa-4",attrs:{elevation:"3",outlined:""}},[i("v-toolbar-title",{staticClass:"mt-2",staticStyle:{display:"flex","justify-content":"center","font-weight":"500"}},[a._v(" Add Item PLU ")]),i("v-form",{staticClass:"pa-4 pt-6",attrs:{"lazy-validation":""}},[i("v-autocomplete",{attrs:{rules:a.textInputRules,items:a.plu_data,"item-text":a.getPluString,"item-value":"product_sku",label:"PLU*",required:"",outlined:"","auto-select-first":"",clearable:""},model:{value:a.input_plu.plu_id,callback:function(t){a.$set(a.input_plu,"plu_id",t)},expression:"input_plu.plu_id"}}),i("div",{staticClass:"pt-5 pb-3 pl-12 pr-12 d-flex flex-row",staticStyle:{display:"flex","justify-content":"center"},attrs:{col:"12"}},[i("v-col",{staticClass:"px-2",attrs:{cols:"8"}},[i("v-btn",{staticClass:"white--text",attrs:{block:"",rounded:"",small:"",color:"grey"},on:{click:function(t){a.dialog.input=!1},keypress:function(t){return!t.type.indexOf("key")&&a._k(t.keyCode,"enter",13,t.key,"Enter")?null:a.validate.apply(null,arguments)}}},[a._v("Cancel")])],1),i("v-col",{staticClass:"px-2",attrs:{cols:"8"}},[i("v-btn",{attrs:{block:"",rounded:"",small:"",color:"success"},on:{click:function(t){return a.onAddItemPlu()},keypress:function(t){return!t.type.indexOf("key")&&a._k(t.keyCode,"enter",13,t.key,"Enter")?null:a.validate.apply(null,arguments)}}},[a._v("Add")])],1)],1)],1)],1)],1)],1),i("v-col",{staticClass:"ma-0 px-0 px-1",attrs:{cols:"2",sm:"2",md:"2"}},[i("v-dialog",{attrs:{"max-width":"400px"},scopedSlots:a._u([{key:"activator",fn:function(t){var e=t.on,n=t.attrs;return[i("div",{staticStyle:{display:"flex","justify-content":"center"}},[i("v-btn",a._g(a._b({staticClass:"white--text",staticStyle:{"font-size":"12px"},attrs:{height:"35px",block:"",color:"deep-purple lighten-1"}},"v-btn",n,!1),e),[i("v-icon",{attrs:{small:""}},[a._v("mdi-upload")]),a._v("Â  Upload Excel")],1)],1)]}}],null,!1,2853506450),model:{value:a.dialog.input2,callback:function(t){a.$set(a.dialog,"input2",t)},expression:"dialog.input2"}},[i("v-card",{staticClass:"pa-4",attrs:{elevation:"3",outlined:""}},[i("v-toolbar-title",{staticClass:"mt-2",staticStyle:{display:"flex","justify-content":"center","font-weight":"500"}},[a._v(" Upload PLU File ")]),i("v-form",{staticClass:"pa-4 pt-6",attrs:{fluid:"","lazy-validation":""}},[i("div",{staticClass:"pt-5 pb-3 pl-12 pr-12",staticStyle:{display:"flex","justify-content":"center"}},[i("input",{staticClass:"ma-0 pa-0",attrs:{type:"file"},on:{change:a.onFileChange}})]),i("div",{staticClass:"pt-2 pl-12 pr-12",staticStyle:{display:"flex","justify-content":"start"}},[i("a",{staticStyle:{"font-size":"12px"},attrs:{href:"../gli-personalized-push-notification/files/PLU_Template.xlsx"}},[i("p",[a._v("Download_PLU_Template.xslx")])])]),i("div",{staticClass:"pt-5 pb-3 pl-12 pr-12",staticStyle:{display:"flex","justify-content":"center"}},[i("v-btn",{attrs:{block:"",rounded:"",small:"",color:"success"},on:{click:function(t){a.dialog.input2=!a.dialog.input2}}},[a._v("Done")])],1)])],1)],1)],1),i("v-col",{staticClass:"ma-0 px-0 px-1",attrs:{cols:"2",sm:"2",md:"2"}},[i("v-dialog",{attrs:{"max-width":"290"},scopedSlots:a._u([{key:"activator",fn:function(t){var e=t.on,n=t.attrs;return[i("div",{staticStyle:{display:"flex","justify-content":"center"}},[i("v-btn",a._g(a._b({staticClass:"white--text",staticStyle:{"font-size":"12px"},attrs:{height:"35px",block:"",color:"#F14668"}},"v-btn",n,!1),e),[i("v-icon",{attrs:{small:""}},[a._v("mdi-trash-can-outline")]),a._v("Â  Delete All PLU")],1)],1)]}}],null,!1,493693890),model:{value:a.dialog.input3,callback:function(t){a.$set(a.dialog,"input3",t)},expression:"dialog.input3"}},[i("v-card",{staticClass:"py-0",attrs:{elevation:"3",outlined:""}},[i("v-card-title",{staticClass:"text-h5"},[a._v(" Delete ")]),i("v-card-text",[a._v(" Are you sure you want to delete all PLU items? ")]),i("v-card-actions",[i("v-spacer"),i("v-btn",{attrs:{color:"grey darken-1",text:""},on:{click:function(t){a.dialog.input3=!a.dialog.input3}}},[a._v(" NO ")]),i("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:function(){a.plu_arr=[],a.dialog.input3=!a.dialog.input3}}},[a._v(" YES ")])],1)],1)],1)],1)],1),i("div",{staticClass:"d-flex flex-row",staticStyle:{width:"100%"}},[i("v-col",{staticClass:"pa-0",attrs:{cols:"12",md:"12",sm:"12"}},[i("v-card",{staticClass:"pa-0",attrs:{elevation:"3",outlined:""}},[i("v-toolbar",{staticClass:"ma-0 pa-0",attrs:{flat:""}},[i("v-toolbar-title",[a._v("List PLU Item")]),i("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),i("v-spacer"),i("v-spacer"),i("v-text-field",{staticStyle:{width:"1%"},attrs:{value:a.search,"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:a.search,callback:function(t){a.search=t},expression:"search"}})],1),i("v-card",{staticClass:"my-4",attrs:{flat:""}},[i("v-card-text",{staticClass:"py-1 px-4"},[i("v-data-table",{attrs:{headers:a.headers,items:a.plu_arr,search:a.search},scopedSlots:a._u([{key:"item.actions",fn:function(t){var e=t.item;return[i("v-icon",{attrs:{small:"",color:"error",disabled:a.flag_view_notif},on:{click:function(t){return a.onDeleteItemPLU(e)}}},[a._v(" mdi-trash-can-outline ")])]}}],null,!0)})],1)],1)],1)],1)],1)]):a._e(),"Category"==a.input_notif.tipe_identifier?i("div",{staticClass:"mb-12"},[a.flag_view_notif?a._e():i("div",{staticClass:"ma-0 pa-0 d-flex flex-row"},[i("v-col",{staticClass:"ma-0 px-0",attrs:{cols:"2",sm:"2",md:"2"}},[i("v-dialog",{attrs:{"max-width":"400px"},scopedSlots:a._u([{key:"activator",fn:function(t){var e=t.on,n=t.attrs;return[i("div",{staticStyle:{display:"flex","justify-content":"center"}},[i("v-btn",a._g(a._b({staticClass:"white--text",staticStyle:{"font-size":"12px"},attrs:{height:"35px",block:"",color:"#1976D2"}},"v-btn",n,!1),e),[i("v-icon",{attrs:{small:""}},[a._v("mdi-plus")]),a._v("Â  Add Category")],1)],1)]}}],null,!1,4087315564),model:{value:a.dialog.input7,callback:function(t){a.$set(a.dialog,"input7",t)},expression:"dialog.input7"}},[i("v-card",{staticClass:"pa-4",attrs:{elevation:"3",outlined:""}},[i("v-toolbar-title",{staticClass:"mt-2",staticStyle:{display:"flex","justify-content":"center","font-weight":"500"}},[a._v(" Add Item Category ")]),i("v-form",{staticClass:"pa-4 pt-6",attrs:{"lazy-validation":""}},[i("v-autocomplete",{attrs:{rules:a.textInputRules,items:a.kategori_data,"item-text":a.getKategoriString,"item-value":"kategori_id",label:"Category*",required:"",outlined:"","auto-select-first":"",clearable:""},model:{value:a.input_kategori.kategori_id,callback:function(t){a.$set(a.input_kategori,"kategori_id",t)},expression:"input_kategori.kategori_id"}}),i("div",{staticClass:"pt-5 pb-3 pl-12 pr-12 d-flex flex-row",staticStyle:{display:"flex","justify-content":"center"},attrs:{col:"12"}},[i("v-col",{staticClass:"px-2",attrs:{cols:"8"}},[i("v-btn",{staticClass:"white--text",attrs:{block:"",rounded:"",small:"",color:"grey"},on:{click:function(t){a.dialog.input7=!1},keypress:function(t){return!t.type.indexOf("key")&&a._k(t.keyCode,"enter",13,t.key,"Enter")?null:a.validate.apply(null,arguments)}}},[a._v("Cancel")])],1),i("v-col",{staticClass:"px-2",attrs:{cols:"8"}},[i("v-btn",{attrs:{block:"",rounded:"",small:"",color:"success"},on:{click:function(t){return a.onAddItemKategori()},keypress:function(t){return!t.type.indexOf("key")&&a._k(t.keyCode,"enter",13,t.key,"Enter")?null:a.validate.apply(null,arguments)}}},[a._v("Add")])],1)],1)],1)],1)],1)],1),i("v-col",{staticClass:"ma-0 px-0 px-1",attrs:{cols:"2",sm:"2",md:"2"}},[i("v-dialog",{attrs:{"max-width":"400px"},scopedSlots:a._u([{key:"activator",fn:function(t){var e=t.on,n=t.attrs;return[i("div",{staticStyle:{display:"flex","justify-content":"center"}},[i("v-btn",a._g(a._b({staticClass:"white--text",staticStyle:{"font-size":"12px"},attrs:{height:"35px",block:"",color:"deep-purple lighten-1"}},"v-btn",n,!1),e),[i("v-icon",{attrs:{small:""}},[a._v("mdi-upload")]),a._v("Â  Upload Excel")],1)],1)]}}],null,!1,2853506450),model:{value:a.dialog.input8,callback:function(t){a.$set(a.dialog,"input8",t)},expression:"dialog.input8"}},[i("v-card",{staticClass:"pa-4",attrs:{elevation:"3",outlined:""}},[i("v-toolbar-title",{staticClass:"mt-2",staticStyle:{display:"flex","justify-content":"center","font-weight":"500"}},[a._v(" Upload Category File ")]),i("v-form",{staticClass:"pa-4 pt-6",attrs:{fluid:"","lazy-validation":""}},[i("div",{staticClass:"pt-5 pb-3 pl-12 pr-12",staticStyle:{display:"flex","justify-content":"center"}},[i("input",{staticClass:"ma-0 pa-0",attrs:{type:"file"},on:{change:a.onFileChange3}})]),i("div",{staticClass:"pt-2 pl-12 pr-12",staticStyle:{display:"flex","justify-content":"start"}},[i("a",{staticStyle:{"font-size":"12px"},attrs:{href:"../gli-personalized-push-notification/files/Kategori_Template.xlsx"}},[i("p",[a._v("Download_Category_Template.xslx")])])]),i("div",{staticClass:"pt-5 pb-3 pl-12 pr-12",staticStyle:{display:"flex","justify-content":"center"}},[i("v-btn",{attrs:{block:"",rounded:"",small:"",color:"success"},on:{click:function(t){a.dialog.input8=!a.dialog.input8}}},[a._v("Done")])],1)])],1)],1)],1),i("v-col",{staticClass:"ma-0 px-0",attrs:{cols:"3",sm:"3",md:"3"}},[i("v-dialog",{attrs:{"max-width":"290"},scopedSlots:a._u([{key:"activator",fn:function(t){var e=t.on,n=t.attrs;return[i("div",{staticStyle:{display:"flex","justify-content":"center"}},[i("v-btn",a._g(a._b({staticClass:"white--text",staticStyle:{"font-size":"12px"},attrs:{height:"35px",block:"",color:"#F14668"}},"v-btn",n,!1),e),[i("v-icon",{attrs:{small:""}},[a._v("mdi-trash-can-outline")]),a._v("Â  Delete All Category")],1)],1)]}}],null,!1,2896777691),model:{value:a.dialog.input9,callback:function(t){a.$set(a.dialog,"input9",t)},expression:"dialog.input9"}},[i("v-card",{staticClass:"py-0",attrs:{elevation:"3",outlined:""}},[i("v-card-title",{staticClass:"text-h5"},[a._v(" Delete ")]),i("v-card-text",[a._v(" Are you sure you want to delete all category items? ")]),i("v-card-actions",[i("v-spacer"),i("v-btn",{attrs:{color:"grey darken-1",text:""},on:{click:function(t){a.dialog.input9=!a.dialog.input9}}},[a._v(" NO ")]),i("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:function(){a.kategori_arr=[],a.dialog.input9=!a.dialog.input9}}},[a._v(" YES ")])],1)],1)],1)],1)],1),i("div",{staticClass:"d-flex flex-row",staticStyle:{width:"100%"}},[i("v-col",{staticClass:"pa-0",attrs:{cols:"12",md:"12",sm:"12"}},[i("v-card",{staticClass:"pa-0",attrs:{elevation:"3",outlined:""}},[i("v-toolbar",{staticClass:"ma-0 pa-0",attrs:{flat:""}},[i("v-toolbar-title",[a._v("List Category Item")]),i("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),i("v-spacer"),i("v-spacer"),i("v-text-field",{staticStyle:{width:"1%"},attrs:{value:a.search3,"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:a.search3,callback:function(t){a.search3=t},expression:"search3"}})],1),i("v-card",{staticClass:"my-4",attrs:{flat:""}},[i("v-card-text",{staticClass:"py-1 px-4"},[i("v-data-table",{attrs:{headers:a.headers3,items:a.kategori_arr,search:a.search3},scopedSlots:a._u([{key:"item.actions",fn:function(t){var e=t.item;return[i("v-icon",{attrs:{small:"",color:"error",disabled:a.flag_view_notif},on:{click:function(t){return a.onDeleteItemKategori(e)}}},[a._v(" mdi-trash-can-outline ")])]}}],null,!0)})],1)],1)],1)],1)],1)]):a._e(),"Brand"==a.input_notif.tipe_identifier?i("div",{staticClass:"mb-12"},[a.flag_view_notif?a._e():i("div",{staticClass:"ma-0 pa-0 d-flex flex-row"},[i("v-col",{staticClass:"ma-0 px-0",attrs:{cols:"2",sm:"2",md:"2"}},[i("v-dialog",{attrs:{"max-width":"400px"},scopedSlots:a._u([{key:"activator",fn:function(t){var e=t.on,n=t.attrs;return[i("div",{staticStyle:{display:"flex","justify-content":"center"}},[i("v-btn",a._g(a._b({staticClass:"white--text",staticStyle:{"font-size":"12px"},attrs:{height:"35px",block:"",color:"#1976D2"}},"v-btn",n,!1),e),[i("v-icon",{attrs:{small:""}},[a._v("mdi-plus")]),a._v("Â  Add Brand")],1)],1)]}}],null,!1,3621625767),model:{value:a.dialog.input10,callback:function(t){a.$set(a.dialog,"input10",t)},expression:"dialog.input10"}},[i("v-card",{staticClass:"pa-4",attrs:{elevation:"3",outlined:""}},[i("v-toolbar-title",{staticClass:"mt-2",staticStyle:{display:"flex","justify-content":"center","font-weight":"500"}},[a._v(" Add Item Brand ")]),i("v-form",{staticClass:"pa-4 pt-6",attrs:{"lazy-validation":""}},[i("v-autocomplete",{attrs:{rules:a.textInputRules,items:a.brand_data,"item-text":a.getBrandString,"item-value":"brand_id",label:"Brand*",required:"",outlined:"","auto-select-first":"",clearable:""},model:{value:a.input_brand.brand_id,callback:function(t){a.$set(a.input_brand,"brand_id",t)},expression:"input_brand.brand_id"}}),i("div",{staticClass:"pt-5 pb-3 pl-12 pr-12 d-flex flex-row",staticStyle:{display:"flex","justify-content":"center"},attrs:{col:"12"}},[i("v-col",{staticClass:"px-2",attrs:{cols:"8"}},[i("v-btn",{staticClass:"white--text",attrs:{block:"",rounded:"",small:"",color:"grey"},on:{click:function(t){a.dialog.input10=!1},keypress:function(t){return!t.type.indexOf("key")&&a._k(t.keyCode,"enter",13,t.key,"Enter")?null:a.validate.apply(null,arguments)}}},[a._v("Cancel")])],1),i("v-col",{staticClass:"px-2",attrs:{cols:"8"}},[i("v-btn",{attrs:{block:"",rounded:"",small:"",color:"success"},on:{click:function(t){return a.onAddItemBrand()},keypress:function(t){return!t.type.indexOf("key")&&a._k(t.keyCode,"enter",13,t.key,"Enter")?null:a.validate.apply(null,arguments)}}},[a._v("Add")])],1)],1)],1)],1)],1)],1),i("v-col",{staticClass:"ma-0 px-0 px-1",attrs:{cols:"2",sm:"2",md:"2"}},[i("v-dialog",{attrs:{"max-width":"400px"},scopedSlots:a._u([{key:"activator",fn:function(t){var e=t.on,n=t.attrs;return[i("div",{staticStyle:{display:"flex","justify-content":"center"}},[i("v-btn",a._g(a._b({staticClass:"white--text",staticStyle:{"font-size":"12px"},attrs:{height:"35px",block:"",color:"deep-purple lighten-1"}},"v-btn",n,!1),e),[i("v-icon",{attrs:{small:""}},[a._v("mdi-upload")]),a._v("Â  Upload Excel")],1)],1)]}}],null,!1,2853506450),model:{value:a.dialog.input11,callback:function(t){a.$set(a.dialog,"input11",t)},expression:"dialog.input11"}},[i("v-card",{staticClass:"pa-4",attrs:{elevation:"3",outlined:""}},[i("v-toolbar-title",{staticClass:"mt-2",staticStyle:{display:"flex","justify-content":"center","font-weight":"500"}},[a._v(" Upload Brand File ")]),i("v-form",{staticClass:"pa-4 pt-6",attrs:{fluid:"","lazy-validation":""}},[i("div",{staticClass:"pt-5 pb-3 pl-12 pr-12",staticStyle:{display:"flex","justify-content":"center"}},[i("input",{staticClass:"ma-0 pa-0",attrs:{type:"file"},on:{change:a.onFileChange4}})]),i("div",{staticClass:"pt-2 pl-12 pr-12",staticStyle:{display:"flex","justify-content":"start"}},[i("a",{staticStyle:{"font-size":"12px"},attrs:{href:"../gli-personalized-push-notification/files/Brand_Template.xlsx"}},[i("p",[a._v("Download_Brand_Template.xslx")])])]),i("div",{staticClass:"pt-5 pb-3 pl-12 pr-12",staticStyle:{display:"flex","justify-content":"center"}},[i("v-btn",{attrs:{block:"",rounded:"",small:"",color:"success"},on:{click:function(t){a.dialog.input11=!a.dialog.input11}}},[a._v("Done")])],1)])],1)],1)],1),i("v-col",{staticClass:"ma-0 px-0",attrs:{cols:"3",sm:"3",md:"3"}},[i("v-dialog",{attrs:{"max-width":"290"},scopedSlots:a._u([{key:"activator",fn:function(t){var e=t.on,n=t.attrs;return[i("div",{staticStyle:{display:"flex","justify-content":"center"}},[i("v-btn",a._g(a._b({staticClass:"white--text",staticStyle:{"font-size":"12px"},attrs:{height:"35px",block:"",color:"#F14668"}},"v-btn",n,!1),e),[i("v-icon",{attrs:{small:""}},[a._v("mdi-trash-can-outline")]),a._v("Â  Delete All Brand")],1)],1)]}}],null,!1,2422572880),model:{value:a.dialog.input12,callback:function(t){a.$set(a.dialog,"input12",t)},expression:"dialog.input12"}},[i("v-card",{staticClass:"py-0",attrs:{elevation:"3",outlined:""}},[i("v-card-title",{staticClass:"text-h5"},[a._v(" Delete ")]),i("v-card-text",[a._v(" Are you sure you want to delete all brand items? ")]),i("v-card-actions",[i("v-spacer"),i("v-btn",{attrs:{color:"grey darken-1",text:""},on:{click:function(t){a.dialog.input12=!a.dialog.input12}}},[a._v(" NO ")]),i("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:function(){a.brand_arr=[],a.dialog.input12=!a.dialog.input12}}},[a._v(" YES ")])],1)],1)],1)],1)],1),i("div",{staticClass:"d-flex flex-row",staticStyle:{width:"100%"}},[i("v-col",{staticClass:"pa-0",attrs:{cols:"12",md:"12",sm:"12"}},[i("v-card",{staticClass:"pa-0",attrs:{elevation:"3",outlined:""}},[i("v-toolbar",{staticClass:"ma-0 pa-0",attrs:{flat:""}},[i("v-toolbar-title",[a._v("List Brand Item")]),i("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),i("v-spacer"),i("v-spacer"),i("v-text-field",{staticStyle:{width:"1%"},attrs:{value:a.search4,"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:a.search4,callback:function(t){a.search4=t},expression:"search4"}})],1),i("v-card",{staticClass:"my-4",attrs:{flat:""}},[i("v-card-text",{staticClass:"py-1 px-4"},[i("v-data-table",{attrs:{headers:a.headers4,items:a.brand_arr,search:a.search4},scopedSlots:a._u([{key:"item.actions",fn:function(t){var e=t.item;return[i("v-icon",{attrs:{small:"",color:"error",disabled:a.flag_view_notif},on:{click:function(t){return a.onDeleteItemBrand(e)}}},[a._v(" mdi-trash-can-outline ")])]}}],null,!0)})],1)],1)],1)],1)],1)]):a._e(),i("v-btn",{attrs:{color:"primary"},on:{click:function(t){a.steppers=3}}},[a._v(" Continue ")]),i("v-btn",{attrs:{text:""},on:{click:function(t){a.steppers=a.steppers-1}}},[a._v(" Return ")])],1),i("v-stepper-step",{attrs:{complete:a.steppers>3,step:"3"}},[a._v(" Input Branch "),i("small",[a._v("* Leave list branch empty to include all branch sales data")])]),i("v-stepper-content",{attrs:{step:"3"}},[i("div",{staticClass:"mb-12"},[a.flag_view_notif?a._e():i("div",{staticClass:"ma-0 pa-0 d-flex flex-row"},[i("v-col",{staticClass:"ma-0 px-0",attrs:{cols:"2",sm:"2",md:"2"}},[i("v-dialog",{attrs:{"max-width":"400px"},scopedSlots:a._u([{key:"activator",fn:function(t){var e=t.on,n=t.attrs;return[i("div",{staticStyle:{display:"flex","justify-content":"center"}},[i("v-btn",a._g(a._b({staticClass:"white--text",staticStyle:{"font-size":"12px"},attrs:{height:"35px",block:"",color:"#1976D2"}},"v-btn",n,!1),e),[i("v-icon",{attrs:{small:""}},[a._v("mdi-plus")]),a._v("Â  Add Branch")],1)],1)]}}],null,!1,1440303528),model:{value:a.dialog.input4,callback:function(t){a.$set(a.dialog,"input4",t)},expression:"dialog.input4"}},[i("v-card",{staticClass:"pa-4",attrs:{elevation:"3",outlined:""}},[i("v-toolbar-title",{staticClass:"mt-2",staticStyle:{display:"flex","justify-content":"center","font-weight":"500"}},[a._v(" Add Branch Code ")]),i("v-form",{staticClass:"pa-4 pt-6",attrs:{"lazy-validation":""}},[i("v-autocomplete",{attrs:{rules:a.textInputRules,items:a.cabang_data,"item-text":a.getBranchString,"item-value":"branch_id",label:"Branch Code*",required:"",outlined:"","auto-select-first":"",clearable:""},model:{value:a.input_cabang.branch_id,callback:function(t){a.$set(a.input_cabang,"branch_id",t)},expression:"input_cabang.branch_id"}}),i("div",{staticClass:"pt-5 pb-3 pl-12 pr-12 d-flex flex-row",staticStyle:{display:"flex","justify-content":"center"},attrs:{col:"12"}},[i("v-col",{staticClass:"px-2",attrs:{cols:"8"}},[i("v-btn",{staticClass:"white--text",attrs:{block:"",rounded:"",small:"",color:"grey"},on:{click:function(t){a.dialog.input4=!1},keypress:function(t){return!t.type.indexOf("key")&&a._k(t.keyCode,"enter",13,t.key,"Enter")?null:a.validate.apply(null,arguments)}}},[a._v("Cancel")])],1),i("v-col",{staticClass:"px-2",attrs:{cols:"8"}},[i("v-btn",{attrs:{block:"",rounded:"",small:"",color:"success"},on:{click:function(t){return a.onAddCabang()},keypress:function(t){return!t.type.indexOf("key")&&a._k(t.keyCode,"enter",13,t.key,"Enter")?null:a.validate.apply(null,arguments)}}},[a._v("Add")])],1)],1)],1)],1)],1)],1),i("v-col",{staticClass:"ma-0 px-1",attrs:{cols:"2",sm:"2",md:"2"}},[i("v-dialog",{attrs:{"max-width":"400px"},scopedSlots:a._u([{key:"activator",fn:function(t){var e=t.on,n=t.attrs;return[i("div",{staticStyle:{display:"flex","justify-content":"center"}},[i("v-btn",a._g(a._b({staticClass:"white--text",staticStyle:{"font-size":"12px"},attrs:{height:"35px",block:"",color:"deep-purple lighten-1"}},"v-btn",n,!1),e),[i("v-icon",{attrs:{small:""}},[a._v("mdi-upload")]),a._v("Â  Upload Excel")],1)],1)]}}],null,!1,2853506450),model:{value:a.dialog.input5,callback:function(t){a.$set(a.dialog,"input5",t)},expression:"dialog.input5"}},[i("v-card",{staticClass:"pa-4",attrs:{elevation:"3",outlined:""}},[i("v-toolbar-title",{staticClass:"mt-2",staticStyle:{display:"flex","justify-content":"center","font-weight":"500"}},[a._v(" Upload Branch File ")]),i("v-form",{staticClass:"pa-4 pt-6",attrs:{fluid:"","lazy-validation":""}},[i("div",{staticClass:"pt-5 pb-3 pl-12 pr-12",staticStyle:{display:"flex","justify-content":"center"}},[i("input",{staticClass:"ma-0 pa-0",attrs:{type:"file"},on:{change:a.onFileChange2}})]),i("div",{staticClass:"pt-2 pl-12 pr-12",staticStyle:{display:"flex","justify-content":"start"}},[i("a",{staticStyle:{"font-size":"12px"},attrs:{href:"../gli-personalized-push-notification/files/Cabang_Template.xlsx"}},[i("p",[a._v("Download_Branch_Template.xslx")])])]),i("div",{staticClass:"pt-5 pb-3 pl-12 pr-12",staticStyle:{display:"flex","justify-content":"center"}},[i("v-btn",{attrs:{block:"",rounded:"",small:"",color:"success"},on:{click:function(t){a.dialog.input5=!a.dialog.input5}}},[a._v("Done")])],1)])],1)],1)],1),i("v-col",{staticClass:"ma-0 px-1",attrs:{cols:"3",sm:"3",md:"3"}},[i("v-dialog",{attrs:{"max-width":"290"},scopedSlots:a._u([{key:"activator",fn:function(t){var e=t.on,n=t.attrs;return[i("div",{staticStyle:{display:"flex","justify-content":"center"}},[i("v-btn",a._g(a._b({staticClass:"white--text",staticStyle:{"font-size":"12px"},attrs:{height:"35px",block:"",color:"#F14668"}},"v-btn",n,!1),e),[i("v-icon",{attrs:{small:""}},[a._v("mdi-trash-can-outline")]),a._v("Â  Delete All Branch")],1)],1)]}}],null,!1,2091067295),model:{value:a.dialog.input6,callback:function(t){a.$set(a.dialog,"input6",t)},expression:"dialog.input6"}},[i("v-card",{staticClass:"py-0",attrs:{elevation:"3",outlined:""}},[i("v-card-title",{staticClass:"text-h5"},[a._v(" Delete ")]),i("v-card-text",[a._v(" Are you sure you want to delete all branch items? ")]),i("v-card-actions",[i("v-spacer"),i("v-btn",{attrs:{color:"grey darken-1",text:""},on:{click:function(t){a.dialog.input6=!a.dialog.input6}}},[a._v(" NO ")]),i("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:function(){a.cabang_arr=[],a.dialog.input6=!a.dialog.input6}}},[a._v(" YES ")])],1)],1)],1)],1)],1),i("div",{staticClass:"d-flex flex-row",staticStyle:{width:"100%"}},[i("v-col",{staticClass:"pa-0",attrs:{cols:"12",md:"12",sm:"12"}},[i("v-card",{staticClass:"pa-0",attrs:{elevation:"3",outlined:""}},[i("v-toolbar",{staticClass:"ma-0 pa-0",attrs:{flat:""}},[i("v-toolbar-title",[a._v("List Branch Code")]),i("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),i("v-spacer"),i("v-spacer"),i("v-text-field",{staticStyle:{width:"1%"},attrs:{value:a.search2,"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:a.search2,callback:function(t){a.search2=t},expression:"search2"}})],1),i("v-card",{staticClass:"my-4",attrs:{flat:""}},[i("v-card-text",{staticClass:"py-1 px-4"},[i("v-data-table",{attrs:{headers:a.headers2,items:a.cabang_arr,search:a.search2},scopedSlots:a._u([{key:"item.actions",fn:function(t){var e=t.item;return[i("v-icon",{attrs:{small:"",color:"error"},on:{click:function(t){return a.onDeleteItemCabang(e)}}},[a._v(" mdi-trash-can-outline ")])]}}],null,!0)})],1)],1)],1)],1)],1)]),a.flag_view_notif?i("v-btn",{attrs:{color:"success",light:""},on:{click:function(){a.resetNotifForm(),t.flag_view_notif=!1,t.dialog.input_notif=!1}}},[a._v(" Done ")]):i("v-btn",{attrs:{color:"success",light:""},on:{click:function(){a.flag_view_notif=!1,a.onAddNotif()}}},[a._v(" Submit ")]),i("v-btn",{attrs:{text:""},on:{click:function(t){a.steppers=a.steppers-1}}},[a._v(" Return ")])],1)],1)],1)],1)],1)],1),i("div",{staticClass:"d-flex flex-row mb-8",staticStyle:{width:"100%",display:"flex","align-items":"start","justify-content":"center"}},[i("v-simple-table",{staticStyle:{width:"100% !important"},attrs:{width:"100%"},scopedSlots:a._u([{key:"default",fn:function(){return[i("thead",[i("tr",[i("th",{staticClass:"\n                      text-left\n                      black--text\n                      grey\n                      lighten-2\n                      letter-spacing-1\n                    "},[a._v(" Identifier ")]),i("th",{staticClass:"\n                      text-left\n                      black--text\n                      grey\n                      lighten-2\n                      letter-spacing-1\n                    "},[a._v(" Title Push Notif ")]),i("th",{staticClass:"\n                      text-left\n                      black--text\n                      grey\n                      lighten-2\n                      letter-spacing-1\n                    "},[a._v(" Subtitle Push Notif ")]),i("th",{staticClass:"\n                      text-left\n                      black--text\n                      grey\n                      lighten-2\n                      letter-spacing-1\n                    "},[a._v(" Image URL ")]),i("th",{staticClass:"\n                      text-left\n                      black--text\n                      grey\n                      lighten-2\n                      letter-spacing-1\n                    "},[a._v(" Promo Type ")]),i("th",{staticClass:"\n                      text-left\n                      black--text\n                      grey\n                      lighten-2\n                      letter-spacing-1\n                    "},[a._v(" Flag Member ")]),i("th",{staticClass:"\n                      text-left\n                      black--text\n                      grey\n                      lighten-2\n                      letter-spacing-1\n                    "},[a._v(" Actions ")])])]),i("tbody",a._l(a.notif_arr,(function(t){return i("tr",{key:t.notif_id},[i("td",[a._v(a._s(t.tipe_identifier))]),i("td",[a._v(a._s(t.title_notif))]),i("td",[a._v(a._s(t.subtitle_notif))]),i("td",[a._v(a._s(t.image_url))]),i("td",[a._v(a._s(t.jenis_promo))]),i("td",{staticClass:"justify-center align-center"},[i("input",{staticClass:"onoffswitch-checkbox",attrs:{type:"checkbox",id:"inline",onclick:"return false"},domProps:{checked:t.flag_member}})]),i("td",{staticClass:"d-flex flex-row"},[i("v-icon",{staticClass:"mr-1",attrs:{small:"",color:"blue"},on:{click:function(e){return a.onViewNotif(t)}}},[a._v(" mdi-eye ")]),i("v-icon",{attrs:{small:"",color:"error"},on:{click:function(e){return a.onDeleteNotif(t)}}},[a._v(" mdi-trash-can-outline ")])],1)])})),0)]},proxy:!0}])})],1)])],1)],1)},n=[],s=e(6198),l=(e(2222),e(9826),e(1539),e(7327),e(5666),e(8815)),r=e(9669),o=e.n(r),c=e(4105),d={name:"EditCampaign",components:{},data:function(){return{viewMode:!1,lastUpdate:(new Date).toLocaleString(),loadingDialog:!1,cancelDialog:!1,flag:{campaign:!0},textInputRules:[function(t){return!!t||"This field requires a value"}],campaignNameRules:[function(t){return!!t||"This field requires a value"},function(t){return t&&t.length<=32||"Campaign Name exceeded 32 character limit"}],titleNotifRules:[function(t){return!!t||"This field requires a value"},function(t){return t&&t.length<=32||"Notif Title exceeded 32 character limit"}],subtitleNotifRules:[function(t){return!!t||"This field requires a value"},function(t){return t&&t.length<=64||"Notif Subtitle exceeded 32 character limit"}],dateNow:new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10),dateNowPlusTwo:new Date((new Date).setDate((new Date).getDate()+2)).toISOString().substr(0,10),dateNowPlusSeven:new Date((new Date).setDate((new Date).getDate()+7)).toISOString().substr(0,10),menu_start_date_promo:!1,menu_end_date_promo:!1,menu_start_date_push:!1,menu_time_push:!1,menu_start_date_sales:!1,menu_end_date_sales:!1,NoId:"AUTO GENERATED",campaign_form:{user_id:localStorage.nik,campaign_name:"",campaign_desc:"",deeplink:"",start_date_sales:"",end_date_sales:"",campaign_delivery:"later",start_date_push:"",time_push:""},dialog:{input_notif:!1,delete_notif:!1,input:!1,input2:!1,input3:!1,input7:!1,input8:!1,input9:!1,input10:!1,input11:!1,input12:!1,input4:!1,input5:!1,input6:!1},notif_arr:[],current_notif_id:0,steppers:1,input_notif:{notif_id:"",tipe_identifier:"Brand",title_notif:"",subtitle_notif:"",image_url:"",keterangan:"",deeplink:"",status_beli:!1,jenis_promo:""},flag_view_notif:!1,temp_delete_notif_id:"",promo_type_data:[],headers:[{text:"Product SKU",align:"start",value:"product_sku",class:"black--text grey lighten-2"},{text:"Product Name",value:"product_name",class:"black--text grey lighten-2"},{text:"Actions",value:"actions",class:"black--text grey lighten-2",sortable:!1}],search:"",plu_data:[],plu_arr:[],input_plu:{plu_id:""},headers3:[{text:"Category ID",align:"start",value:"kategori_id",class:"black--text grey lighten-2"},{text:"Category Name",value:"kategori_name",class:"black--text grey lighten-2"},{text:"Actions",value:"actions",class:"black--text grey lighten-2",sortable:!1}],search3:"",kategori_data:[],kategori_arr:[],input_kategori:{kategori_id:""},headers4:[{text:"Brand ID",align:"start",value:"brand_id",class:"black--text grey lighten-2"},{text:"Brand Name",value:"brand_name",class:"black--text grey lighten-2"},{text:"Actions",value:"actions",class:"black--text grey lighten-2",sortable:!1}],search4:"",brand_data:[],brand_arr:[],input_brand:{brand_id:""},headers2:[{text:"Branch Code",align:"start",value:"branch_id",class:"black--text grey lighten-2"},{text:"Branch Name",value:"branch_name",class:"black--text grey lighten-2"},{text:"Actions",value:"actions",class:"black--text grey lighten-2",sortable:!1}],search2:"",cabang_data:[],cabang_arr:[],input_cabang:{branch_id:""}}},mounted:function(){var t=this;return(0,s.Z)(regeneratorRuntime.mark((function a(){var e;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(t.checkSession(),t.viewMode=t.$route.params.viewMode,void 0!=t.$route.params.campaign_data&&null!=t.$route.params.campaign_data){a.next=6;break}return console.log("Campaign data is undefined"),t.$router.push({name:"dashboard"}).catch((function(t){console.log(t)})),a.abrupt("return");case 6:return t.loadingDialog=!0,a.prev=7,a.next=10,o().get(l.YZ+"get-promo-type?token="+l.Fw,l.C_).then((function(a){if(t.promo_type_data=a.data.data,0==t.promo_type_data.length)return alert("Cannot get promo data! Please try again."),void(t.loadingDialog=!1)})).catch((function(a){console.log("AddCampaign.vue (error) :: ",a),alert("Cannot get promo data! Please try again."),t.loadingDialog=!1}));case 10:if(0!=t.promo_type_data.length){a.next=13;break}return t.loadingDialog=!1,a.abrupt("return");case 13:a.next=20;break;case 15:return a.prev=15,a.t0=a["catch"](7),console.error(a.t0),alert("Error: connection failed"),a.abrupt("return");case 20:return a.prev=20,a.next=23,o().get(l.YZ+"get-plu?token="+l.Fw,l.C_).then((function(a){if(t.plu_data=a.data.data,0==t.plu_data.length)return alert("Cannot get PLU data! Please try again."),void(t.loadingDialog=!1)})).catch((function(a){console.log("EditCampaign.vue (error) :: ",a),alert("Cannot get PLU data! Please try again."),t.loadingDialog=!1}));case 23:if(0!=t.plu_data.length){a.next=26;break}return t.loadingDialog=!1,a.abrupt("return");case 26:a.next=33;break;case 28:return a.prev=28,a.t1=a["catch"](20),console.error(a.t1),alert("Error: connection failed"),a.abrupt("return");case 33:return a.prev=33,a.next=36,o().get(l.YZ+"get-category?token="+l.Fw,l.C_).then((function(a){if(t.kategori_data=a.data.data,0==t.kategori_data.length)return alert("Cannot get category data! Please try again."),void(t.loadingDialog=!1)})).catch((function(a){console.log("EditCampaign.vue (error) :: ",a),alert("Cannot get category data! Please try again."),t.loadingDialog=!1}));case 36:if(0!=t.kategori_data.length){a.next=39;break}return t.loadingDialog=!1,a.abrupt("return");case 39:a.next=46;break;case 41:return a.prev=41,a.t2=a["catch"](33),console.error(a.t2),alert("Error: connection failed"),a.abrupt("return");case 46:return a.prev=46,a.next=49,o().get(l.YZ+"get-brand?token="+l.Fw,l.C_).then((function(a){if(t.brand_data=a.data.data,0==t.brand_data.length)return alert("Cannot get brand data! Please try again."),void(t.loadingDialog=!1)})).catch((function(a){console.log("EditCampaign.vue (error) :: ",a),alert("Cannot get brand data! Please try again."),t.loadingDialog=!1}));case 49:if(0!=t.brand_data.length){a.next=52;break}return t.loadingDialog=!1,a.abrupt("return");case 52:a.next=59;break;case 54:return a.prev=54,a.t3=a["catch"](46),console.error(a.t3),alert("Error: connection failed"),a.abrupt("return");case 59:return a.prev=59,a.next=62,o().get(l.YZ+"get-branch?token="+l.Fw,l.C_).then((function(a){if(t.cabang_data=a.data.data,0==t.cabang_data.length)return alert("Cannot get branch data! Please try again."),void(t.loadingDialog=!1)})).catch((function(a){console.log("EditCampaign.vue (error) :: ",a),alert("Cannot get branch data! Please try again."),t.loadingDialog=!1}));case 62:if(0!=t.cabang_data.length){a.next=65;break}return t.loadingDialog=!1,a.abrupt("return");case 65:a.next=72;break;case 67:return a.prev=67,a.t4=a["catch"](59),console.error(a.t4),alert("Error: connection failed"),a.abrupt("return");case 72:return e=t.$route.params.campaign_data.amnm_id,a.prev=73,a.next=76,o().get(l.YZ+"get-campaign?token="+l.Fw+"&amnm_id="+e,l.C_).then((function(a){if(console.log(a.data.data),t.campaign_form=a.data.data,void 0==a.data.data||void 0==a.data.data.campaign_name)return alert("Cannot get campaign data! Please exit this page and try again."),void(t.loadingDialog=!1);t.NoId=t.campaign_form.NoId,t.notif_arr=t.campaign_form.notif_arr})).catch((function(a){console.log("EditCampaign.vue (error) :: ",a),alert("Cannot get campaign data! Server timeout."),t.loadingDialog=!1}));case 76:if(0!=t.cabang_data.length){a.next=79;break}return t.loadingDialog=!1,a.abrupt("return");case 79:a.next=86;break;case 81:return a.prev=81,a.t5=a["catch"](73),console.error(a.t5),alert("Error: connection failed"),a.abrupt("return");case 86:"None"==t.campaign_form.start_date_push&&(t.campaign_form.start_date_push=""),t.loadingDialog=!1;case 88:case"end":return a.stop()}}),a,null,[[7,15],[20,28],[33,41],[46,54],[59,67],[73,81]])})))()},methods:{checkSession:function(){localStorage.user_fname||(this.$router.push({name:"login"}).catch((function(t){console.log(t)})),localStorage.removeItem("user_fname"),localStorage.removeItem("user_lname"),localStorage.removeItem("token"),localStorage.removeItem("nik"));var t=Date.parse(new Date),a=Date.parse(localStorage.date_end_push_notif);a<t&&(this.$router.push({name:"login"}).catch((function(t){console.log(t)})),localStorage.removeItem("user_fname"),localStorage.removeItem("user_lname"),localStorage.removeItem("token"),localStorage.removeItem("nik"))},uppercase:function(){this.campaign_form.campaign_name=this.campaign_form.campaign_name.toUpperCase()},uppercase_desc:function(){this.campaign_form.campaign_desc=this.campaign_form.campaign_desc.toUpperCase()},btnFlag:function(t){this.flag.campaign=!1,this.flag.plu=!1,this.flag.cabang=!1,"campaign"==t?this.flag.campaign=!0:"plu"==t?this.flag.plu=!0:"cabang"==t&&(this.flag.cabang=!0)},getBtnColor:function(t){return"campaign"==t?1==this.flag.campaign?"#6861CE":"grey lighten-1":"plu"==t?1==this.flag.plu?"#6861CE":"grey lighten-1":"cabang"==t?1==this.flag.cabang?"#6861CE":"grey lighten-1":void 0},getPluString:function(t){return"".concat(t.product_sku," - ").concat(t.product_name)},onAddItemPlu:function(){var t=this;if(void 0!=this.plu_data.find((function(a){return a.product_sku==t.input_plu.plu_id})))if(this.plu_arr.filter((function(a){return a.product_sku==t.input_plu.plu_id})).length>0)alert("Item is already in table");else{var a=this.plu_data.find((function(a){return a.product_sku==t.input_plu.plu_id}));this.plu_arr.push(a),this.input_plu.plu_id="",this.dialog.input=!1}else alert("Cannot add item!")},onFileChange:function(t){var a=t.target.files||t.dataTransfer.files;a.length&&this.filetojson(a[0])},filetojson:function(t){var a=new FileReader,e=this;a.onload=function(t){var a=t.target.result,i=c.read(a,{type:"binary"}),n=i.SheetNames[0],s=i.Sheets[n],l=c.utils.sheet_to_json(s,{raw:!0});if(!l[0].product_sku||!l[0].product_name)return e.plu_arr=[],void alert("Header xslx format incorrect!");for(var r=0;r<l.length;r++)e.plu_arr.filter((function(t){return t.product_sku==l[r].product_sku})).length>0?alert("Item is already in table"):e.plu_arr.push(l[r])},a.readAsBinaryString(t)},onDeleteItemPLU:function(t){this.plu_arr=this.plu_arr.filter((function(a){return a.product_sku!==t.product_sku})),alert("Item deleted!")},getKategoriString:function(t){return"".concat(t.kategori_id," - ").concat(t.kategori_name)},onAddItemKategori:function(){var t=this;if(void 0!=this.kategori_data.find((function(a){return a.kategori_id==t.input_kategori.kategori_id})))if(this.kategori_arr.filter((function(a){return a.kategori_id==t.input_kategori.kategori_id})).length>0)alert("Item is already in table");else{var a=this.kategori_data.find((function(a){return a.kategori_id==t.input_kategori.kategori_id}));this.kategori_arr.push(a),this.input_kategori.kategori_id="",this.dialog.input7=!1}else alert("Cannot add item!")},onFileChange3:function(t){var a=t.target.files||t.dataTransfer.files;a.length&&this.filetojson3(a[0])},filetojson3:function(t){var a=new FileReader,e=this;a.onload=function(t){var a=t.target.result,i=c.read(a,{type:"binary"}),n=i.SheetNames[0],s=i.Sheets[n],l=c.utils.sheet_to_json(s,{raw:!0});if(!l[0].kategori_id||!l[0].kategori_name)return e.kategori_arr=[],void alert("Header xslx format incorrect!");for(var r=0;r<l.length;r++)e.kategori_arr.filter((function(t){return t.kategori_id==l[r].kategori_id})).length>0?alert("Item is already in table"):e.kategori_arr.push(l[r])},a.readAsBinaryString(t)},onDeleteItemKategori:function(t){this.kategori_arr=this.kategori_arr.filter((function(a){return a.kategori_id!==t.kategori_id})),alert("Item deleted!")},getBrandString:function(t){return"".concat(t.brand_id," - ").concat(t.brand_name)},onAddItemBrand:function(){var t=this;if(void 0!=this.brand_data.find((function(a){return a.brand_id==t.input_brand.brand_id})))if(this.brand_arr.filter((function(a){return a.brand_id==t.input_brand.brand_id})).length>0)alert("Item is already in table");else{var a=this.brand_data.find((function(a){return a.brand_id==t.input_brand.brand_id}));this.brand_arr.push(a),this.input_brand.brand_id="",this.dialog.input10=!1}else alert("Cannot add item!")},onFileChange4:function(t){var a=t.target.files||t.dataTransfer.files;a.length&&this.filetojson4(a[0])},filetojson4:function(t){var a=new FileReader,e=this;a.onload=function(t){var a=t.target.result,i=c.read(a,{type:"binary"}),n=i.SheetNames[0],s=i.Sheets[n],l=c.utils.sheet_to_json(s,{raw:!0});if(!l[0].brand_id||!l[0].brand_name)return e.brand_arr=[],void alert("Header xslx format incorrect!");for(var r=0;r<l.length;r++)e.brand_arr.filter((function(t){return t.brand_id==l[r].brand_id})).length>0?alert("Item is already in table"):e.brand_arr.push(l[r])},a.readAsBinaryString(t)},onDeleteItemBrand:function(t){this.brand_arr=this.brand_arr.filter((function(a){return a.brand_id!==t.brand_id})),alert("Item deleted!")},getBranchString:function(t){return"".concat(t.branch_id," - ").concat(t.branch_name)},onAddCabang:function(){var t=this;if(void 0!=this.cabang_data.find((function(a){return a.branch_id==t.input_cabang.branch_id})))if(this.cabang_arr.filter((function(a){return a.branch_id==t.input_cabang.branch_id})).length>0)alert("Item is already in table");else{var a=this.cabang_data.find((function(a){return a.branch_id==t.input_cabang.branch_id}));this.cabang_arr.push(a),this.input_cabang.branch_id="",this.dialog.input4=!1}else alert("Cannot add item!")},onFileChange2:function(t){var a=t.target.files||t.dataTransfer.files;a.length&&this.filetojson2(a[0])},filetojson2:function(t){var a=new FileReader,e=this;a.onload=function(t){var a=t.target.result,i=c.read(a,{type:"binary"}),n=i.SheetNames[0],s=i.Sheets[n],l=c.utils.sheet_to_json(s,{raw:!0});if(!l[0].branch_id||!l[0].branch_name)return e.cabang_arr=[],void alert("Header xslx format incorrect!");for(var r=0;r<l.length;r++)e.cabang_arr.filter((function(t){return t.branch_id==l[r].branch_id})).length>0?alert("Item is already in table"):e.cabang_arr.push(l[r])},a.readAsBinaryString(t)},onDeleteItemCabang:function(t){this.cabang_arr=this.cabang_arr.filter((function(a){return a.branch_id!==t.branch_id})),alert("Item deleted!")},resetNotifForm:function(){this.steppers=1,this.input_notif.tipe_identifier="Brand",this.input_notif.title_notif="",this.input_notif.subtitle_notif="",this.input_notif.image_url="",this.input_notif.keterangan="",this.input_notif.deeplink="",this.input_notif.status_beli="",this.input_notif.jenis_promo="",this.plu_arr=[],this.input_plu.plu_id="",this.kategori_arr=[],this.input_kategori.kategori_id="",this.brand_arr=[],this.input_brand.brand_id="",this.cabang_arr=[],this.input_cabang.branch_id=""},onAddNotif:function(){if(""!=this.input_notif.tipe_identifier&&""!=this.input_notif.title_notif&&""!=this.input_notif.subtitle_notif&&""!=this.input_notif.deeplink&&""!=this.input_notif.jenis_promo)if(this.input_notif.title_notif.length>32||this.input_notif.subtitle_notif.length>64)alert("(1) Notification title/ subtitle exceeds character limit.");else if(0!=this.plu_arr.length||"PLU"!=this.input_notif.tipe_identifier)if(0!=this.kategori_arr.length||"Category"!=this.input_notif.tipe_identifier)if(0!=this.brand_arr.length||"Brand"!=this.input_notif.tipe_identifier){var t={notif_id:this.current_notif_id+1,tipe_identifier:this.input_notif.tipe_identifier,title_notif:this.input_notif.title_notif,subtitle_notif:this.input_notif.subtitle_notif,image_url:this.input_notif.image_url,keterangan:this.input_notif.keterangan,deeplink:this.input_notif.deeplink,status_beli:this.input_notif.status_beli,jenis_promo:this.input_notif.jenis_promo,plu_arr:this.plu_arr,kategori_arr:this.kategori_arr,brand_arr:this.brand_arr,cabang_arr:this.cabang_arr};this.notif_arr.push(t),this.resetNotifForm(),this.current_notif_id=this.current_notif_id+1,this.dialog.input_notif=!1}else alert("(2) Brand item requires at least one value.");else alert("(2) Category item requires at least one value.");else alert("(2) PLU item requires at least one value.");else alert("(1) Please fill in all required fields")},onViewNotif:function(t){this.dialog.input_notif=!0,this.steppers=1,this.resetNotifForm(),this.input_notif.tipe_identifier=t.tipe_identifier,this.input_notif.title_notif=t.title_notif,this.input_notif.subtitle_notif=t.subtitle_notif,this.input_notif.image_url=t.image_url,this.input_notif.keterangan=t.keterangan,this.input_notif.deeplink=t.deeplink,this.input_notif.status_beli=t.status_beli,this.input_notif.jenis_promo=t.jenis_promo,this.plu_arr=t.plu_arr,this.kategori_arr=t.kategori_arr,this.brand_arr=t.brand_arr,this.cabang_arr=t.cabang_arr,this.flag_view_notif=!0},onDeleteNotif:function(t){console.log(t),this.temp_delete_notif_id=t.notif_id,this.dialog.delete_notif=!0,console.log(this.temp_delete_notif_id)},deleteNotif:function(){console.log(this.temp_delete_notif_id);var t=this.temp_delete_notif_id;if(""==t||void 0==t||null==t)return alert("Cannot delete notification"),void(this.dialog.delete_notif=!1);this.notif_arr=this.notif_arr.filter((function(a){return a.notif_id!==t})),alert("Notification deleted!"),this.dialog.delete_notif=!this.dialog.delete_notif},onSubmit:function(){var t=this;return(0,s.Z)(regeneratorRuntime.mark((function a(){var e,i,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(e=Date.parse(t.campaign_form.start_date_sales),i=Date.parse(t.campaign_form.end_date_sales),!(e>i)){a.next=5;break}return alert("Start Sales Date exceeds End Sales Date."),a.abrupt("return");case 5:if(""!=t.campaign_form.campaign_name&&""!=t.campaign_form.start_date_sales&&""!=t.campaign_form.end_date_sales&&""!=t.campaign_form.campaign_delivery&&""!=t.campaign_form.start_date_push&&""!=t.campaign_form.time_push){a.next=8;break}return alert("Please fill in all required fields."),a.abrupt("return");case 8:if(!(t.campaign_form.campaign_name.length>32)){a.next=11;break}return alert("Campaign Name exceeds character limit."),a.abrupt("return");case 11:if(!(t.notif_arr.length<=0)){a.next=14;break}return alert("Push Notification requires a value!"),a.abrupt("return");case 14:return n={amnm_id:t.NoId,amnm_campaign_name:t.campaign_form.campaign_name,amnm_campaign_desc:t.campaign_form.campaign_desc,amnm_deeplink:t.campaign_form.deeplink,amnm_start_date_sales:t.campaign_form.start_date_sales,amnm_end_date_sales:t.campaign_form.end_date_sales,amnm_campaign_delivery:t.campaign_form.campaign_delivery,amnm_start_date_push:t.campaign_form.start_date_push,amnm_time_push:t.campaign_form.time_push,amnm_create_user:t.campaign_form.user_id,notif_arr:t.notif_arr},console.log(n),t.loadingDialog=!0,a.prev=17,a.next=20,o().post(l.YZ+"edit-campaign?token="+l.Fw,n,l.C_).then((function(a){return"success"==a.data.response_message?(t.loadingDialog=!1,void t.$router.push({name:"dashboard"}).catch((function(t){console.log(t)}))):(alert("Cannot submit campaign! Please try again."),console.log(a.data),void(t.loadingDialog=!1))})).catch((function(a){console.log("EditCampaign.vue (error) :: ",a),alert("Cannot submit campaign! Server timeout."),t.loadingDialog=!1}));case 20:a.next=28;break;case 22:return a.prev=22,a.t0=a["catch"](17),console.error(a.t0),alert("Error: connection failed"),t.loadingDialog=!1,a.abrupt("return");case 28:return t.loadingDialog=!1,a.abrupt("return");case 30:case"end":return a.stop()}}),a,null,[[17,22]])})))()},onCancelConfirm:function(){this.cancelDialog=!0},onCancel:function(){this.$router.push({name:"dashboard"}).catch((function(t){console.log(t)}))},onReturn:function(){this.$router.push({name:"dashboard"}).catch((function(t){console.log(t)}))}}},u=d,p=e(1001),_=e(3453),f=e.n(_),g=e(1835),v=e(680),m=e(2371),h=e(7118),b=e(2102),x=e(9846),y=e(6957),k=e(7416),C=e(5532),w=e(1418),S=e(6232),D=e(6428),I=e(6768),j=e(7003),N=e(2877),P=e(6557),A=e(3568),$=e(9762),E=e(3446),B=e(8937),F=e(8975),T=e(5978),z=e(9142),R=e(6656),U=e(7921),Z=(0,p.Z)(u,i,n,!1,null,null,null),V=Z.exports;f()(Z,{VAutocomplete:g.Z,VBtn:v.Z,VCard:m.Z,VCardActions:h.h7,VCardText:h.ZB,VCardTitle:h.EB,VCol:b.Z,VContainer:x.Z,VDataTable:y.Z,VDatePicker:k.Z,VDialog:C.Z,VDivider:w.Z,VForm:S.Z,VIcon:D.Z,VMenu:I.Z,VProgressLinear:j.Z,VRow:N.Z,VSelect:P.Z,VSimpleTable:A.Z,VSpacer:$.Z,VStepper:E.Z,VStepperContent:B.Z,VStepperStep:F.Z,VTextField:T.Z,VTimePicker:z.Z,VToolbar:R.Z,VToolbarTitle:U.qW})}}]);